<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Users</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div class="container my-2">
        <h1>Liste des utilisateurs</h1>
        <div class="col-md-12">
            <div th:if="${message != null}" class="alert alert-success">[[${message}]]</div>
            <div>
                <a th:href="@{/users/export/excel}" class="btn btn-primary btn-sm mb-3"><i class="fas fa-file-export">Export to excel</i> </a>
                <a th:href="@{/users/export/pdf}" class="btn btn-primary btn-sm mb-3"> <i class="fas fa-file-pdf">Export to pdf </i></a>
                <a th:href="@{/import}" class="btn btn-primary btn-sm mb-3"> <i class="fas fa-file-import">Importer des données</i></a>
            </div>
            <br>
            <table id="example" class="table table-striped table-bordered text-center">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Nom</th>
                    <th>Prenom(s)</th>
                    <th>E-mail</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                    <tr th:each="user : ${users}">
                        <td th:text="${user.id}"></td>
                        <td th:text="${user.lastName}"></td>
                        <td th:text="${user.firstName}"></td>
                        <td th:text="${user.email}"></td>
                        <td>
                            <a class="btn btn-primary"><i class="fas fa-pencil-square-o" aria-hidden="true" title="Modifier"></i></a>
                            <a th:href="@{/users/{id}(id=${user.id})}" class="btn btn-danger"><i class="fas fa-trash" aria-hidden="true" title="Supprimer"></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        var example = $('#example').DataTable({
            "order": [
                [0, "asc"]
            ],
            //dom: 'Bfrtip',
            "language": {
                "sSearch": "Rechercher",
                "oPaginate": {
                    "sFirst": "Premier",
                    "sLast": "Dernier",
                    "sNext": "Suivant",
                    "sPrevious": "Precedent"
                },
                "sInfo": "Afficher _START_ a _END_ des _TOTAL_ lignes",
                "sInfoEmpty": "Afficher 0 à 0 des 0 données",
                "sInfoFiltered": "Trié de _MAX_ lignes totales",
                "sEmptyTable": "Pas de données disponible dans la table",
                "sLengthMenu": "Afficher _MENU_ lignes",
                "sZeroRecords": "Aucune donnée correspondante trouvée",
                "sProcessing": "Traitement en cours ...",
                "oAria": {
                    "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                    "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                },
                "select": {
                    "rows": {
                        "_": "%d lignes sélectionnées",
                        "0": "Aucune ligne sélectionnée",
                        "1": "1 ligne sélectionnée"
                    }
                }
            }
        });
    });
</script>
</html>
